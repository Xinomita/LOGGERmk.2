<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Logger v9</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700;800&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      background: #0a0a0a;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 20px;
      font-family: 'JetBrains Mono', monospace;
    }
    
    .phone {
      width: 375px;
      background: #fff;
      border: 3px solid #000;
    }
    
    /* ==========================================
       HEADER
       ========================================== */
    .header {
      height: 24px;
      background: #000;
      display: flex;
      align-items: center;
      padding: 0 8px;
      justify-content: space-between;
    }
    
    .h-brand {
      font-size: 9px;
      letter-spacing: 0.15em;
      color: #666;
      font-weight: 600;
    }
    
    .h-right {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .h-dot {
      width: 4px;
      height: 4px;
      background: #0f0;
      border-radius: 50%;
    }
    
    .h-date {
      font-size: 8px;
      color: #555;
      letter-spacing: 0.05em;
    }
    
    /* ==========================================
       STATUS BANNER - Static, 3/4 + 1/4 split
       ========================================== */
    .status-banner {
      height: 24px;
      background: #000;
      border-bottom: 1px solid #222;
      display: flex;
    }
    
    .status-main {
      flex: 3;
      display: flex;
      align-items: center;
      padding: 0 8px;
      border-right: 1px solid #333;
      overflow: hidden;
      position: relative;
    }
    
    .status-content {
      display: flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }
    
    .status-prefix {
      font-size: 7px;
      font-weight: 600;
      letter-spacing: 0.08em;
      color: #666;
    }
    
    .status-text {
      font-size: 9px;
      font-weight: 600;
      letter-spacing: 0.04em;
      color: #0f0;
    }
    
    .status-text.warning {
      color: #fa0;
    }
    
    .status-text.critical {
      color: #f44;
    }
    
    /* Terminal typing animation */
    .status-text::after {
      content: '█';
      animation: blink 0.8s step-end infinite;
      margin-left: 2px;
      font-weight: 400;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
    
    /* Fade transition for rotating content */
    .status-content {
      animation: fade-cycle 4s ease-in-out infinite;
    }
    
    @keyframes fade-cycle {
      0%, 90% { opacity: 1; }
      95% { opacity: 0; }
      100% { opacity: 1; }
    }
    
    .profile-btn {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.15s;
    }
    
    .profile-btn:hover {
      background: #1a1a1a;
    }
    
    .profile-label {
      font-size: 8px;
      font-weight: 700;
      letter-spacing: 0.1em;
      color: #666;
    }
    
    .profile-btn:hover .profile-label {
      color: #999;
    }
    
    /* ==========================================
       GRAPH - Dense grid
       ========================================== */
    .graph-section {
      height: 130px;
      background: #fff;
      border-bottom: 2px solid #000;
      display: flex;
    }
    
    .graph-main {
      flex: 1;
      position: relative;
      overflow: hidden;
    }
    
    /* Dense grid - major lines */
    .graph-grid {
      position: absolute;
      inset: 0;
      background-image: 
        linear-gradient(90deg, #ccc 1px, transparent 1px),
        linear-gradient(0deg, #ccc 1px, transparent 1px);
      background-size: 25px 22px;
    }
    
    /* Dense grid - minor lines */
    .graph-grid-fine {
      position: absolute;
      inset: 0;
      background-image: 
        linear-gradient(90deg, #e8e8e8 1px, transparent 1px),
        linear-gradient(0deg, #e8e8e8 1px, transparent 1px);
      background-size: 5px 5.5px;
    }
    
    .y-axis {
      position: absolute;
      left: 3px;
      top: 4px;
      bottom: 12px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    
    .y-label {
      font-size: 6px;
      color: #999;
      line-height: 1;
    }
    
    .x-axis {
      position: absolute;
      bottom: 1px;
      left: 18px;
      right: 24px;
      display: flex;
      justify-content: space-between;
    }
    
    .x-label { font-size: 6px; color: #999; }
    
    .graph-svg {
      position: absolute;
      left: 18px;
      right: 24px;
      top: 4px;
      bottom: 12px;
    }
    
    .graph-line {
      fill: none;
      stroke-width: 1.5;
      stroke-linecap: round;
      stroke-linejoin: round;
      transition: opacity 0.2s, stroke-width 0.2s;
    }
    
    .graph-line.active { stroke-width: 2; }
    .graph-line.muted { opacity: 0.25; }
    
    .graph-area-fill { transition: opacity 0.2s; }
    
    .graph-dot { transition: opacity 0.2s, r 0.2s; }
    .graph-dot.muted { opacity: 0.25; }
    
    .compounds-strip {
      width: 22px;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    
    .compounds-strip:hover { background: #1a1a1a; }
    
    .compounds-text {
      writing-mode: vertical-rl;
      transform: rotate(180deg);
      font-size: 7px;
      letter-spacing: 0.15em;
      color: #666;
      font-weight: 700;
    }
    
    .compounds-strip:hover .compounds-text { color: #999; }
    
    /* Legend */
    .legend {
      height: 20px;
      background: #fff;
      border-bottom: 1px solid #ddd;
      display: flex;
      align-items: center;
      padding: 0 8px;
      gap: 10px;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      padding: 2px 4px;
      margin: -2px -4px;
      transition: background 0.15s;
    }
    
    .legend-item:hover { background: #f5f5f5; }
    .legend-item.active { background: #000; }
    
    .legend-shape {
      width: 6px;
      height: 6px;
      border: 1.5px solid #aaa;
      background: transparent;
      transition: all 0.15s;
    }
    
    .legend-shape.dot { border-radius: 50%; }
    .legend-shape.tri { 
      border: none;
      width: 0; height: 0;
      border-left: 4px solid transparent;
      border-right: 4px solid transparent;
      border-bottom: 6px solid #aaa;
    }
    
    .legend-name {
      font-size: 7px;
      letter-spacing: 0.06em;
      color: #999;
      font-weight: 600;
      transition: color 0.15s;
    }
    
    .legend-item.active .legend-shape { 
      border-color: var(--color);
      background: var(--color);
    }
    .legend-item.active .legend-shape.tri { 
      border-bottom-color: var(--color); 
    }
    .legend-item.active .legend-name { color: #fff; }
    
    /* ==========================================
       LOGGER ROWS
       ========================================== */
    .logger { background: #fff; }
    
    .log-row {
      height: 36px;
      display: flex;
      align-items: center;
      padding: 0 8px;
      border-bottom: 1px solid #e0e0e0;
      cursor: pointer;
      position: relative;
    }
    
    .log-row::before {
      content: '';
      position: absolute;
      left: 0; top: 0; bottom: 0;
      width: 3px;
      background: transparent;
    }
    
    .log-row.active::before { background: var(--color); }
    
    .log-label {
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 0.04em;
      color: #000;
      min-width: 105px;
    }
    
    .log-leader {
      flex: 1;
      height: 1px;
      margin: 0 6px;
      background: repeating-linear-gradient(90deg, #bbb 0px, #bbb 2px, transparent 2px, transparent 5px);
    }
    
    .log-row.active .log-leader {
      background: repeating-linear-gradient(90deg, var(--color) 0px, var(--color) 2px, transparent 2px, transparent 5px);
      animation: dash-move 0.4s linear infinite;
    }
    
    @keyframes dash-move {
      0% { background-position: 0 0; }
      100% { background-position: 5px 0; }
    }
    
    .log-value {
      font-size: 16px;
      font-weight: 700;
      color: #000;
      min-width: 50px;
      text-align: right;
      font-variant-numeric: tabular-nums;
    }
    
    .log-row.active .log-value { color: var(--color); }
    
    .log-unit {
      font-size: 10px;
      font-weight: 600;
      color: #666;
      margin-left: 2px;
      min-width: 24px;
    }
    
    .log-dot {
      width: 6px; height: 6px;
      border-radius: 50%;
      background: #ccc;
      margin-left: 6px;
    }
    
    .log-row.active .log-dot { background: var(--color); }
    
    /* ==========================================
       CATEGORICAL ROW
       ========================================== */
    .cat-row {
      height: 36px;
      display: flex;
      align-items: center;
      padding: 0 8px;
      border-bottom: 1px solid #e0e0e0;
    }
    
    .cat-label {
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 0.04em;
      color: #000;
      min-width: 105px;
    }
    
    .cat-leader {
      flex: 1;
      height: 1px;
      margin: 0 6px;
      background: repeating-linear-gradient(90deg, #bbb 0px, #bbb 2px, transparent 2px, transparent 5px);
    }
    
    .cat-select { display: flex; }
    
    .cat-opt {
      padding: 4px 6px;
      font-size: 8px;
      font-weight: 700;
      letter-spacing: 0.02em;
      background: #fff;
      color: #aaa;
      border: 1px solid #ccc;
      cursor: pointer;
      transition: all 0.1s;
    }
    
    .cat-opt:not(:last-child) { border-right: none; }
    
    .cat-opt.selected {
      background: #000;
      color: #fff;
      border-color: #000;
    }
    
    .cat-opt:hover:not(.selected) {
      background: #f5f5f5;
      color: #666;
    }
    
    /* ==========================================
       BINARY ROWS
       ========================================== */
    .binary-section {
      display: flex;
      flex-wrap: wrap;
      border-bottom: 1px solid #e0e0e0;
    }
    
    .binary-item {
      width: 50%;
      height: 32px;
      display: flex;
      align-items: center;
      padding: 0 8px;
      cursor: pointer;
      border-bottom: 1px solid #e0e0e0;
      transition: background 0.15s;
    }
    
    .binary-item:nth-child(odd) { border-right: 1px solid #e0e0e0; }
    .binary-item:nth-last-child(-n+2) { border-bottom: none; }
    
    .binary-item.off { background: #fff; }
    .binary-item.off .binary-label { color: #aaa; }
    .binary-item.off .binary-indicator { background: #ddd; }
    
    .binary-item.on { background: #000; }
    .binary-item.on .binary-label { color: #fff; }
    .binary-item.on .binary-indicator { background: #0f0; }
    
    .binary-label {
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.05em;
      transition: color 0.15s;
    }
    
    .binary-leader {
      flex: 1;
      height: 1px;
      margin: 0 6px;
      background: repeating-linear-gradient(90deg, currentColor 0px, currentColor 2px, transparent 2px, transparent 5px);
      opacity: 0.3;
    }
    
    .binary-indicator {
      width: 8px; height: 8px;
      border-radius: 50%;
      transition: background 0.15s;
    }
    
    /* ==========================================
       NOTES
       ========================================== */
    .notes-bar {
      height: 28px;
      background: #000;
      display: flex;
      align-items: center;
      padding: 0 8px;
      cursor: pointer;
    }
    
    .notes-bar:hover { background: #1a1a1a; }
    
    .notes-label {
      font-size: 9px;
      letter-spacing: 0.12em;
      color: #666;
      font-weight: 700;
    }
    
    .notes-bar:hover .notes-label { color: #888; }
    
    /* ==========================================
       QUICK ADD
       ========================================== */
    .quick-add {
      background: #000;
      border-top: 1px solid #333;
    }
    
    .quick-header {
      height: 20px;
      display: flex;
      align-items: center;
      padding: 0 8px;
      border-bottom: 1px solid #333;
    }
    
    .quick-title {
      font-size: 8px;
      letter-spacing: 0.1em;
      color: #555;
      font-weight: 600;
    }
    
    .quick-fields {
      display: flex;
      align-items: center;
      padding: 6px 8px;
      gap: 4px;
    }
    
    .quick-field {
      height: 26px;
      background: #1a1a1a;
      border: 1px solid #333;
      padding: 0 6px;
      font-size: 9px;
      font-family: inherit;
      font-weight: 500;
      color: #fff;
      outline: none;
    }
    
    .quick-field:focus {
      border-color: #555;
      background: #222;
    }
    
    .quick-field::placeholder {
      color: #555;
      font-weight: 400;
    }
    
    .quick-field.compound { flex: 2; }
    .quick-field.dose { width: 50px; flex: none; }
    
    .quick-field.roa {
      width: 70px;
      flex: none;
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cpath fill='%23555' d='M0 2l4 4 4-4z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 6px center;
      padding-right: 18px;
    }
    
    .quick-field.time {
      width: 52px;
      flex: none;
      text-align: center;
    }
    
    .quick-btn {
      width: 28px;
      height: 26px;
      background: #fff;
      border: none;
      color: #000;
      font-size: 14px;
      font-weight: 700;
      font-family: inherit;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .quick-btn:hover { background: #0f0; }
    
    /* ==========================================
       COLORS
       ========================================== */
    [data-color="blue"] { --color: #2563eb; }
    [data-color="orange"] { --color: #d97706; }
    [data-color="green"] { --color: #16a34a; }
    [data-color="magenta"] { --color: #db2777; }
    [data-color="cyan"] { --color: #0891b2; }
    
  </style>
</head>
<body>
  <div class="phone">
    
    <!-- Header -->
    <div class="header">
      <span class="h-brand">BIOLOGGER</span>
      <div class="h-right">
        <div class="h-dot"></div>
        <span class="h-date">30.11.2025</span>
      </div>
    </div>
    
    <!-- Status Banner -->
    <div class="status-banner">
      <div class="status-main">
        <div class="status-content" id="statusContent">
          <span class="status-prefix">TREND:</span>
          <span class="status-text" id="statusText">BODYWEIGHT ↑ 2.3% THIS WEEK</span>
        </div>
      </div>
      <div class="profile-btn">
        <span class="profile-label">PROFILE</span>
      </div>
    </div>
    
    <!-- Graph Section -->
    <div class="graph-section">
      <div class="graph-main">
        <div class="graph-grid-fine"></div>
        <div class="graph-grid"></div>
        <div class="y-axis" id="yAxis">
          <span class="y-label">100</span>
          <span class="y-label">50</span>
          <span class="y-label">0</span>
        </div>
        <div class="x-axis">
          <span class="x-label">01</span>
          <span class="x-label">08</span>
          <span class="x-label">15</span>
          <span class="x-label">22</span>
          <span class="x-label">30</span>
        </div>
        
        <svg class="graph-svg" viewBox="0 0 300 100" preserveAspectRatio="none">
          <defs>
            <linearGradient id="blueGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#2563eb;stop-opacity:0.3"/>
              <stop offset="100%" style="stop-color:#2563eb;stop-opacity:0"/>
            </linearGradient>
            <linearGradient id="orangeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#d97706;stop-opacity:0.3"/>
              <stop offset="100%" style="stop-color:#d97706;stop-opacity:0"/>
            </linearGradient>
            <linearGradient id="greenGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#16a34a;stop-opacity:0.3"/>
              <stop offset="100%" style="stop-color:#16a34a;stop-opacity:0"/>
            </linearGradient>
            <linearGradient id="magentaGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#db2777;stop-opacity:0.3"/>
              <stop offset="100%" style="stop-color:#db2777;stop-opacity:0"/>
            </linearGradient>
          </defs>
          
          <!-- Area fills -->
          <polygon id="areaWeight" class="graph-area-fill" fill="url(#blueGradient)" opacity="0.15"
            points="0,45 30,42 60,48 90,44 120,40 150,43 180,38 210,35 240,32 270,30 300,28 300,100 0,100"/>
          <polygon id="areaWaist" class="graph-area-fill" fill="url(#orangeGradient)" opacity="0"
            points="0,50 30,52 60,49 90,51 120,48 150,50 180,47 210,49 240,46 270,48 300,45 300,100 0,100"/>
          <polygon id="areaSleep" class="graph-area-fill" fill="url(#greenGradient)" opacity="0"
            points="0,35 30,55 60,40 90,30 120,50 150,25 180,45 210,35 240,20 270,40 300,30 300,100 0,100"/>
          <polygon id="areaEnergy" class="graph-area-fill" fill="url(#magentaGradient)" opacity="0"
            points="0,60 30,55 60,58 90,50 120,55 150,48 180,52 210,45 240,50 270,42 300,40 300,100 0,100"/>
          
          <!-- Lines -->
          <polyline id="lineWaist" class="graph-line muted" stroke="#d97706"
            points="0,50 30,52 60,49 90,51 120,48 150,50 180,47 210,49 240,46 270,48 300,45"/>
          <polyline id="lineSleep" class="graph-line muted" stroke="#16a34a"
            points="0,35 30,55 60,40 90,30 120,50 150,25 180,45 210,35 240,20 270,40 300,30"/>
          <polyline id="lineEnergy" class="graph-line muted" stroke="#db2777"
            points="0,60 30,55 60,58 90,50 120,55 150,48 180,52 210,45 240,50 270,42 300,40"/>
          <polyline id="lineWeight" class="graph-line active" stroke="#2563eb"
            points="0,45 30,42 60,48 90,44 120,40 150,43 180,38 210,35 240,32 270,30 300,28"/>
          
          <!-- End dots -->
          <circle id="dotWaist" class="graph-dot muted" cx="300" cy="45" r="2" fill="#d97706"/>
          <circle id="dotSleep" class="graph-dot muted" cx="300" cy="30" r="2" fill="#16a34a"/>
          <circle id="dotEnergy" class="graph-dot muted" cx="300" cy="40" r="2" fill="#db2777"/>
          <circle id="dotWeight" class="graph-dot" cx="300" cy="28" r="3" fill="#2563eb"/>
        </svg>
      </div>
      <div class="compounds-strip">
        <span class="compounds-text">COMPOUNDS</span>
      </div>
    </div>
    
    <!-- Legend -->
    <div class="legend">
      <div class="legend-item active" style="--color: #2563eb;" data-var="weight" onclick="selectVariable('weight')">
        <div class="legend-shape dot"></div>
        <span class="legend-name">WEIGHT</span>
      </div>
      <div class="legend-item" style="--color: #d97706;" data-var="waist" onclick="selectVariable('waist')">
        <div class="legend-shape tri"></div>
        <span class="legend-name">WAIST</span>
      </div>
      <div class="legend-item" style="--color: #16a34a;" data-var="sleep" onclick="selectVariable('sleep')">
        <div class="legend-shape"></div>
        <span class="legend-name">SLEEP</span>
      </div>
      <div class="legend-item" style="--color: #db2777;" data-var="energy" onclick="selectVariable('energy')">
        <div class="legend-shape dot"></div>
        <span class="legend-name">ENERGY</span>
      </div>
    </div>
    
    <!-- Logger Rows -->
    <div class="logger">
      
      <div class="log-row active" data-color="blue">
        <span class="log-label">BODYWEIGHT</span>
        <div class="log-leader"></div>
        <span class="log-value">80.5</span>
        <span class="log-unit">kg</span>
        <div class="log-dot"></div>
      </div>
      
      <div class="log-row" data-color="orange">
        <span class="log-label">WAIST</span>
        <div class="log-leader"></div>
        <span class="log-value">74.5</span>
        <span class="log-unit">cm</span>
        <div class="log-dot"></div>
      </div>
      
      <div class="log-row" data-color="green">
        <span class="log-label">SLEEP</span>
        <div class="log-leader"></div>
        <span class="log-value">7.50</span>
        <span class="log-unit">hrs</span>
        <div class="log-dot"></div>
      </div>
      
      <div class="log-row" data-color="magenta">
        <span class="log-label">ENERGY</span>
        <div class="log-leader"></div>
        <span class="log-value">7.0</span>
        <span class="log-unit">/10</span>
        <div class="log-dot"></div>
      </div>
      
      <div class="log-row" data-color="cyan">
        <span class="log-label">MOOD</span>
        <div class="log-leader"></div>
        <span class="log-value">8.0</span>
        <span class="log-unit">/10</span>
        <div class="log-dot"></div>
      </div>
      
      <!-- Categorical -->
      <div class="cat-row">
        <span class="cat-label">HAIR SHED</span>
        <div class="cat-leader"></div>
        <div class="cat-select">
          <span class="cat-opt">Low</span>
          <span class="cat-opt selected">Normal</span>
          <span class="cat-opt">Elevated</span>
          <span class="cat-opt">Signif.</span>
        </div>
      </div>
      
      <!-- Binary items -->
      <div class="binary-section">
        <div class="binary-item on">
          <span class="binary-label">WORKOUT</span>
          <div class="binary-leader"></div>
          <div class="binary-indicator"></div>
        </div>
        <div class="binary-item on">
          <span class="binary-label">CAFFEINE</span>
          <div class="binary-leader"></div>
          <div class="binary-indicator"></div>
        </div>
        <div class="binary-item off">
          <span class="binary-label">ALCOHOL</span>
          <div class="binary-leader"></div>
          <div class="binary-indicator"></div>
        </div>
        <div class="binary-item off">
          <span class="binary-label">FASTED AM</span>
          <div class="binary-leader"></div>
          <div class="binary-indicator"></div>
        </div>
      </div>
      
    </div>
    
    <!-- Notes -->
    <div class="notes-bar">
      <span class="notes-label">NOTES</span>
    </div>
    
    <!-- Quick Add -->
    <div class="quick-add">
      <div class="quick-header">
        <span class="quick-title">+ COMPOUND</span>
      </div>
      <div class="quick-fields">
        <input class="quick-field compound" placeholder="Search compound..." list="compounds-list">
        <datalist id="compounds-list">
          <option value="Caffeine">
          <option value="Zinc Glycinate">
          <option value="Magnesium">
          <option value="Ashwagandha">
          <option value="Tongkat Ali">
          <option value="Creatine">
        </datalist>
        <input class="quick-field dose" placeholder="Dose">
        <select class="quick-field roa">
          <option value="" disabled selected>ROA</option>
          <option value="oral">Oral</option>
          <option value="sublingual">Sublng</option>
          <option value="im">IM</option>
          <option value="subq">SubQ</option>
          <option value="iv">IV</option>
          <option value="topical">Topic</option>
          <option value="other">Other</option>
        </select>
        <input class="quick-field time" type="time" value="14:30">
        <button class="quick-btn">+</button>
      </div>
    </div>
    
  </div>
  
  <script>
    // Status banner rotation
    const statusMessages = [
      { prefix: 'TREND:', text: 'BODYWEIGHT ↑ 2.3% THIS WEEK', type: '' },
      { prefix: 'TREND:', text: 'SLEEP AVG 7.2h ↑ FROM 6.8h', type: '' },
      { prefix: 'TREND:', text: 'ENERGY STABLE AT 7.1/10', type: '' },
      { prefix: 'ALERT:', text: 'ZINC + COPPER TIMING', type: 'warning' }
    ];
    
    let currentStatus = 0;
    const statusText = document.getElementById('statusText');
    const statusContent = document.getElementById('statusContent');
    
    function rotateStatus() {
      currentStatus = (currentStatus + 1) % statusMessages.length;
      const msg = statusMessages[currentStatus];
      
      // Update prefix
      statusContent.querySelector('.status-prefix').textContent = msg.prefix;
      
      // Typing effect
      statusText.textContent = '';
      statusText.className = 'status-text' + (msg.type ? ' ' + msg.type : '');
      
      let i = 0;
      const typeInterval = setInterval(() => {
        if (i < msg.text.length) {
          statusText.textContent += msg.text[i];
          i++;
        } else {
          clearInterval(typeInterval);
        }
      }, 30);
    }
    
    setInterval(rotateStatus, 4000);
    
    // Variable selection
    function selectVariable(varName) {
      const variables = ['weight', 'waist', 'sleep', 'energy'];
      const yAxisLabels = {
        weight: ['95', '85', '75'],
        waist: ['85', '75', '65'],
        sleep: ['12', '6', '0'],
        energy: ['10', '5', '0']
      };
      
      document.querySelectorAll('.legend-item').forEach(item => {
        item.classList.toggle('active', item.dataset.var === varName);
      });
      
      const yLabels = document.querySelectorAll('.y-label');
      const labels = yAxisLabels[varName] || ['100', '50', '0'];
      yLabels.forEach((label, i) => {
        label.textContent = labels[i];
      });
      
      variables.forEach(v => {
        const line = document.getElementById('line' + capitalize(v));
        const dot = document.getElementById('dot' + capitalize(v));
        const area = document.getElementById('area' + capitalize(v));
        
        if (v === varName) {
          line.classList.remove('muted');
          line.classList.add('active');
          dot.classList.remove('muted');
          dot.setAttribute('r', '3');
          area.setAttribute('opacity', '0.15');
        } else {
          line.classList.add('muted');
          line.classList.remove('active');
          dot.classList.add('muted');
          dot.setAttribute('r', '2');
          area.setAttribute('opacity', '0');
        }
      });
    }
    
    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1);
    }
    
    // Binary toggle
    document.querySelectorAll('.binary-item').forEach(item => {
      item.addEventListener('click', () => {
        item.classList.toggle('on');
        item.classList.toggle('off');
      });
    });
    
    // Categorical selection
    document.querySelectorAll('.cat-opt').forEach(opt => {
      opt.addEventListener('click', () => {
        opt.parentElement.querySelectorAll('.cat-opt').forEach(o => o.classList.remove('selected'));
        opt.classList.add('selected');
      });
    });
    
    // Set current time
    const timeInput = document.querySelector('.quick-field.time');
    const now = new Date();
    timeInput.value = now.toTimeString().slice(0, 5);
  </script>
</body>
</html>
